{"ast":null,"code":"var _jsxFileName = \"/Users/anilrathore/Documents/Project/6wicket/src/components/login/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../../api/axiosInstance\";\nimport Toast from \"../Toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [theme, setTheme] = useState(\"light\");\n  const [name, setName] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const navigate = useNavigate();\n  const [toastMsg, setToastMsg] = useState(\"\");\n  const [toastType, setToastType] = useState(\"error\");\n  useEffect(() => {\n    document.documentElement.setAttribute(\"data-theme\", theme);\n  }, [theme]);\n\n  // Auto-hide toast after 3 seconds\n  useEffect(() => {\n    if (toastMsg) {\n      const timer = setTimeout(() => {\n        setToastMsg(\"\");\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [toastMsg]);\n  const toggleTheme = () => {\n    setTheme(theme === \"light\" ? \"dark\" : \"light\");\n  };\n  const login = async () => {\n    try {\n      const data = new URLSearchParams();\n      data.append(\"user_name\", name);\n      data.append(\"password\", pass);\n      data.append(\"grant_type\", \"password\");\n      const res = await axiosInstance.post(\"/user/userLogin\", data, {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          Authorization: \"Basic YXBwbGljYXRpb246c2VjcmV0\"\n        }\n      });\n      console.log(res);\n      navigate(\"/\");\n    } catch (e) {\n      var _e$response, _e$response2, _e$response3, _e$response3$data;\n      setToastType(\"error\");\n      // Check for CORS errors\n      if (e.message && (e.message.includes(\"CORS\") || e.message.includes(\"Network Error\") || e.code === \"ERR_NETWORK\")) {\n        setToastMsg(\"CORS Error: Unable to connect to server. Please check server configuration.\");\n      } else if (((_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.status) === 401 || ((_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : _e$response2.status) === 403) {\n        setToastMsg(\"Invalid username or password.\");\n      } else if ((_e$response3 = e.response) !== null && _e$response3 !== void 0 && (_e$response3$data = _e$response3.data) !== null && _e$response3$data !== void 0 && _e$response3$data.message) {\n        setToastMsg(e.response.data.message);\n      } else {\n        setToastMsg(\"Login failed. Please try again.\");\n      }\n      console.error(\"Login error:\", e);\n    }\n  };\n  const demoLogin = async () => {\n    try {\n      const res = await axiosInstance.post(\"/user/autoDemoUserLogin\", {});\n      console.log(res);\n      navigate(\"/\");\n    } catch (e) {\n      setToastType(\"error\");\n      setToastMsg(\"Demo login failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"theme-toggle\",\n      onClick: toggleTheme,\n      children: theme === \"light\" ? \"üåô\" : \"‚òÄÔ∏è\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"assets/logo-BZBOqOr3.png\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDC64\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDD12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: pass,\n          onChange: e => setPass(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"login-btn\",\n        onClick: login,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"demo-btn\",\n        onClick: demoLogin,\n        children: \"Login with Demo ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"note\",\n      children: \"This site is not for Indian territory\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      message: toastMsg,\n      type: toastType,\n      onClose: () => setToastMsg(\"\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"FkvkVn9cahxE6q8PF55QWmmp8F4=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axiosInstance","Toast","jsxDEV","_jsxDEV","Login","_s","theme","setTheme","name","setName","pass","setPass","navigate","toastMsg","setToastMsg","toastType","setToastType","document","documentElement","setAttribute","timer","setTimeout","clearTimeout","toggleTheme","login","data","URLSearchParams","append","res","post","headers","Authorization","console","log","e","_e$response","_e$response2","_e$response3","_e$response3$data","message","includes","code","response","status","error","demoLogin","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","type","placeholder","value","onChange","target","onClose","_c","$RefreshReg$"],"sources":["/Users/anilrathore/Documents/Project/6wicket/src/components/login/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../../api/axiosInstance\";\nimport Toast from \"../Toast\";\n\nconst Login = () => {\n  const [theme, setTheme] = useState(\"light\");\n  const [name, setName] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const navigate = useNavigate();\n  const [toastMsg, setToastMsg] = useState(\"\");\n  const [toastType, setToastType] = useState(\"error\");\n\n  useEffect(() => {\n    document.documentElement.setAttribute(\"data-theme\", theme);\n  }, [theme]);\n\n  // Auto-hide toast after 3 seconds\n  useEffect(() => {\n    if (toastMsg) {\n      const timer = setTimeout(() => {\n        setToastMsg(\"\");\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [toastMsg]);\n\n  const toggleTheme = () => {\n    setTheme(theme === \"light\" ? \"dark\" : \"light\");\n  };\n\n  const login = async () => {\n    try {\n      const data = new URLSearchParams();\n      data.append(\"user_name\", name);\n      data.append(\"password\", pass);\n      data.append(\"grant_type\", \"password\");\n\n      const res = await axiosInstance.post(\"/user/userLogin\", data, {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          Authorization: \"Basic YXBwbGljYXRpb246c2VjcmV0\",\n        },\n      });\n\n      console.log(res);\n      navigate(\"/\");\n    } catch (e) {\n      setToastType(\"error\");\n      // Check for CORS errors\n      if (e.message && (e.message.includes(\"CORS\") || e.message.includes(\"Network Error\") || e.code === \"ERR_NETWORK\")) {\n        setToastMsg(\"CORS Error: Unable to connect to server. Please check server configuration.\");\n      } else if (e.response?.status === 401 || e.response?.status === 403) {\n        setToastMsg(\"Invalid username or password.\");\n      } else if (e.response?.data?.message) {\n        setToastMsg(e.response.data.message);\n      } else {\n        setToastMsg(\"Login failed. Please try again.\");\n      }\n      console.error(\"Login error:\", e);\n    }\n  };\n\n  const demoLogin = async () => {\n    try {\n      const res = await axiosInstance.post(\"/user/autoDemoUserLogin\", {});\n      console.log(res);\n      navigate(\"/\");\n    } catch (e) {\n      setToastType(\"error\");\n      setToastMsg(\"Demo login failed\");\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <button className=\"theme-toggle\" onClick={toggleTheme}>\n        {theme === \"light\" ? \"üåô\" : \"‚òÄÔ∏è\"}\n      </button>\n\n      <div className=\"login-box\">\n        <div className=\"title\">\n          <img src=\"assets/logo-BZBOqOr3.png\" alt=\"\" />\n        </div>\n\n        <div className=\"input-field\">\n          <span>üë§</span>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </div>\n\n        <div className=\"input-field\">\n          <span>üîí</span>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={pass}\n            onChange={(e) => setPass(e.target.value)}\n          />\n        </div>\n\n        <button className=\"login-btn\" onClick={login}>\n          Login\n        </button>\n\n        <button className=\"demo-btn\" onClick={demoLogin}>\n          Login with Demo ID\n        </button>\n      </div>\n\n      <div className=\"note\">This site is not for Indian territory</div>\n\n      {/* üîπ Toast component */}\n      <Toast\n        message={toastMsg}\n        type={toastType}\n        onClose={() => setToastMsg(\"\")}\n      />\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}